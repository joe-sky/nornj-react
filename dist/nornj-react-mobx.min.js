/*!
* NornJ-React-Mobx v5.0.0-rc.4
* (c) 2016-2019 Joe_Sky
* Released under the MIT License.
*/
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(require("nornj"),require("mobx"),require("mobx-react")):"function"==typeof define&&define.amd?define(["nornj","mobx","mobx-react"],r):r((e=e||self).NornJ,e.mobx,e.mobxReact)}(this,function(e,r,t){"use strict";var n,g=function(e){{if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}}(require("nornj")),b=require("mobx"),a=(n=require("../../extensionConfig"))&&n.__esModule?n:{default:n};function x(e,r,t){var n=r.reverse?!r.value.value:e;r.isMultipleSelect&&(n=g.default.arraySlice(r.target.options).filter(function(e){return e.selected}).map(function(e){return e.value})),r.action?r.value.source["set".concat(g.default.capitalize(r.value.prop))](n,r.args):r.value.source[r.value.prop]=n,r.changeEvent&&r.changeEvent.apply(t,r.args)}var P="defaultValue";function o(e,r,t){var n="value",a="onChange",o=e.tagName,u=e.tagProps,i=e.context.$this,l=e.props,c=g.default.getComponentConfig(o)||{},f=h(l&&l.arguments,P)&&P;null!=c.valuePropName&&(n=c.valuePropName),null!=c.changeEventName&&(a=c.changeEventName);var s=r.value,v="select"===o&&u.multiple;(c.needToJS||v)&&(s=(0,b.toJS)(s));var p=u[a],m=f||n;if(c.hasEventObject){var d=c.targetPropName||"value";u[m]=s,u[a]=function(e){x(e.target[d],{target:e.target,value:r,args:arguments,changeEvent:p,action:t,valuePropName:n,isMultipleSelect:v},i)}}else u[m]=s,u[a]=function(e){x(e,{value:r,args:arguments,changeEvent:p,action:t,valuePropName:n,isMultipleSelect:v},i)}}function h(e,r){var t;return e&&e.every(function(e){return e.name!=r||!(t=!0)}),t}(0,g.registerExtension)("mobxBind",function(e){var r=e.props,t=e.value();if(null==t)return t;o(e,t,h(r&&r.arguments,"action"))},a.default.mobxBind),(0,g.registerExtension)("mstBind",function(e){var r=e.value();if(null==r)return r;o(e,r,!0)},a.default.mstBind);var u=require("nornj"),i=f(require("react")),l=require("mobx-react-lite"),c=f(require("../../extensionConfig"));function f(e){return e&&e.__esModule?e:{default:e}}(0,u.registerExtension)("mobxObserver",function(e){return i.default.createElement(l.Observer,null,function(){return e.children()})},c.default.mobxObserver),e.registerComponent("mobx-Provider",t.Provider),e.registerFilter("toJS",function(e){return r.toJS(e)})});
