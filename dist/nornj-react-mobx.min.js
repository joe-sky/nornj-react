/*!
* NornJ-React-Mobx v5.0.0-rc.6
* (c) 2016-2019 Joe_Sky
* Released under the MIT License.
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("nornj"),require("mobx"),require("mobx-react")):"function"==typeof define&&define.amd?define(["nornj","mobx","mobx-react"],t):t((e=e||self).NornJ,e.mobx,e.mobxReact)}(this,function(e,t,r){"use strict";var n,b=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(require("nornj")),x=require("mobx"),a=(n=require("../../extensionConfig"))&&n.__esModule?n:{default:n};function h(e,t,r){var n=e;if(t.isMultipleSelect)n=b.default.arraySlice(t.target.options).filter(function(e){return e.selected}).map(function(e){return e.value});else if(t.isCheckbox){var a=t.value.value;n=b.default.isArrayLike(a)?(t.target.checked?a.push(e):a.splice(a.indexOf(e),1),a):t.target.checked}t.action?t.value.source["set".concat(b.default.capitalize(t.value.prop))](n,t.args):t.value.source[t.value.prop]=n,t.changeEvent&&t.changeEvent.apply(r,t.args)}function o(e,t,r){var n="value",a="onChange",o=e.tagName,u=e.tagProps,i=e.context.$this,l=e.props,c=b.default.getComponentConfig(o)||{},f=y(l&&l.arguments,"default")&&"defaultValue";null!=c.valuePropName&&(n=c.valuePropName),null!=c.changeEventName&&(a=c.changeEventName);var s=t.value,v="select"===o&&u.multiple;(c.needToJS||v)&&(s=(0,x.toJS)(s));var p=u[a],d=f||n;if(c.hasEventObject){var g=c.targetPropName||"value",m="input"===o&&"checkbox"===u.type;"input"===o&&"radio"===u.type?u.checked=u.value===s:m?u.checked=null!=s&&(b.default.isArrayLike(s)?0<=s.indexOf(u.value):s):u[d]=s,u[a]=function(e){h(e.target[g],{target:e.target,value:t,args:arguments,changeEvent:p,action:r,valuePropName:n,isMultipleSelect:v,isCheckbox:m},i)}}else u[d]=s,u[a]=function(e){h(e,{value:t,args:arguments,changeEvent:p,action:r,valuePropName:n},i)}}function y(e,t){var r;return e&&e.every(function(e){return e.name!=t||!(r=!0)}),r}(0,b.registerExtension)("mobxBind",function(e){var t=e.props,r=e.value();if(null==r)return r;o(e,r,y(t&&t.arguments,"action"))},a.default.mobxBind),(0,b.registerExtension)("mstBind",function(e){var t=e.value();if(null==t)return t;o(e,t,!0)},a.default.mstBind);var u=require("nornj"),i=f(require("react")),l=require("mobx-react-lite"),c=f(require("../../extensionConfig"));function f(e){return e&&e.__esModule?e:{default:e}}(0,u.registerExtension)("mobxObserver",function(e){return i.default.createElement(l.Observer,null,function(){return e.children()})},c.default.mobxObserver),e.registerComponent("mobx-Provider",r.Provider),e.registerFilter("toJS",function(e){return t.toJS(e)})});
